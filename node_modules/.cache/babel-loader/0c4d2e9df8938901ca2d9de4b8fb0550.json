{"ast":null,"code":"import { types } from \"../types/types\";\nimport { firebase, googleAuthProvider } from '../firebase/firebase-config';\nimport { startLoading, finishLoading } from \"./ui\";\nimport Swal from 'sweetalert2';\nimport { useSelector } from \"react-redux\";\nexport const login = (uid, displayName) => ({\n  type: types.login,\n  payload: {\n    uid,\n    displayName\n  }\n});\nexport const startLoginEmailPassword = (email, password) => {\n  return dispatch => {\n    dispatch(startLoading());\n    firebase.auth().signInWithEmailAndPassword(email, password).then(({\n      user\n    }) => {\n      dispatch(login(user.uid, user.displayName));\n      dispatch(finishLoading());\n    }).catch(e => {\n      console.log(e);\n      dispatch(finishLoading());\n      Swal.fire('Error', e.message, 'error');\n    });\n  };\n};\nexport const startRegisterWithEmailPasswordName = (email, password, name) => {\n  return dispatch => {\n    firebase.auth().createUserWithEmailAndPassword(email, password).then(async ({\n      user\n    }) => {\n      await user.updateProfile({\n        displayName: name\n      });\n      dispatch(login(user.uid, user.displayName));\n    }).catch(e => {\n      console.log(e);\n      Swal.fire('Error', e.message, 'error');\n    });\n  };\n};\nexport const startGoogleLogin = () => {\n  return dispatch => {\n    firebase.auth().signInWithPopup(googleAuthProvider).then(({\n      user\n    }) => {\n      dispatch(login(user.uid, user.displayName));\n    });\n  };\n};\nexport const startLogout = () => {\n  return async dispatch => {\n    await firebase.auth().signOut();\n    const state = useSelector(state => state.notess);\n    dispatch(logout());\n    dispatch(emptyNotes());\n  };\n};\nexport const logout = () => ({\n  type: types.logout\n});\nexport const emptyNotes = (notes, active) => ({\n  type: types.notesLogoutCleaning,\n  payload: {\n    notes,\n    active\n  }\n});","map":{"version":3,"sources":["/samba/Journal/src/actions/auth.js"],"names":["types","firebase","googleAuthProvider","startLoading","finishLoading","Swal","useSelector","login","uid","displayName","type","payload","startLoginEmailPassword","email","password","dispatch","auth","signInWithEmailAndPassword","then","user","catch","e","console","log","fire","message","startRegisterWithEmailPasswordName","name","createUserWithEmailAndPassword","updateProfile","startGoogleLogin","signInWithPopup","startLogout","signOut","state","notess","logout","emptyNotes","notes","active","notesLogoutCleaning"],"mappings":"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","sourcesContent":["import { types } from \"../types/types\"\r\nimport { firebase, googleAuthProvider } from '../firebase/firebase-config';\r\nimport { startLoading, finishLoading } from \"./ui\";\r\nimport Swal from 'sweetalert2'\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport const login = (uid, displayName) => ({\r\n    type: types.login,\r\n    payload: {\r\n        uid,\r\n        displayName    \r\n    }\r\n});\r\n\r\n\r\nexport const startLoginEmailPassword = (email, password) => {\r\n    return(dispatch) => {\r\n\r\n        dispatch(startLoading());\r\n        firebase.auth().signInWithEmailAndPassword(email, password)\r\n        .then( ({user})  => {\r\n            dispatch( login(user.uid, user.displayName))\r\n            dispatch(finishLoading());\r\n            \r\n        })\r\n        .catch(e => {\r\n            console.log(e);\r\n            dispatch(finishLoading());\r\n            Swal.fire('Error', e.message, 'error')\r\n\r\n        })\r\n\r\n\r\n    }\r\n}\r\n\r\nexport const startRegisterWithEmailPasswordName = (email, password, name)=>{\r\n    return( dispatch ) => {\r\n        firebase.auth().createUserWithEmailAndPassword( email, password )\r\n            .then( async ({user}) => {\r\n                \r\n                await user.updateProfile({displayName: name})\r\n                \r\n                dispatch(\r\n                    login(user.uid, user.displayName)\r\n                )\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n                Swal.fire('Error', e.message, 'error')\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport const startGoogleLogin=() => {\r\n    return(dispatch) => {\r\n        firebase.auth().signInWithPopup( googleAuthProvider )\r\n        \r\n        .then( ({user}) => {\r\n            dispatch(\r\n                login(user.uid, user.displayName)\r\n            )\r\n        })\r\n    }\r\n}\r\n\r\nexport const startLogout = () => {\r\n    return async(dispatch) => {\r\n        await firebase.auth().signOut();\r\n\r\n        const state = useSelector(state => state.notess)\r\n        \r\n        dispatch( logout() )\r\n        dispatch( emptyNotes() )\r\n    }\r\n}\r\n\r\nexport const logout = () =>({\r\n    type: types.logout\r\n})\r\n\r\nexport const emptyNotes = (notes, active) => ({\r\n    type: types.notesLogoutCleaning,\r\n    payload: {\r\n        notes,\r\n        active\r\n    }\r\n})\r\n\r\n"]},"metadata":{},"sourceType":"module"}